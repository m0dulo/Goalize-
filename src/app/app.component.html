<header>
  <nav class="navbar goalize-navbar flex-row" [ngClass]="'goal-navbar-' + current_color">
    <span class="navbar-brand">
      <span *ngFor="let title of current_title; let $last = last">
        {{ title }}
        <span *ngIf="!$last"><i class="fa fa-caret-right" aria-hidden="true"></i></span>
      </span>
    </span>
    <span class="navbar-text ml-auto">
      <span class="goalize-navbar-indicator" [ngClass]="{ 'show': !(connected$ | async).$value }"><i class="fa fa-exclamation-circle" aria-hidden="true"></i> 与 Firebase 失去连接</span>
    </span>
  </nav>
</header>

<main>
  <router-outlet></router-outlet>
  <template ngbModalContainer></template>
</main>

<footer class="footer-main">
  <div class="container">
    <a href="https://github.com/SkyZH/goalize">Goalize</a>, made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://github.com/SkyZH">SkyZH (迟遲的星星球)</a>
    <a href="javascript:;" (click)="logout()" class="text-danger">清除数据并登出</a>
    <small>Rev. {{ __version }}</small>
  </div>
</footer>

<template #authContent let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">登陆</h4>
  </div>
  <div class="modal-body">
    <p>您需要登陆后才能使用 Goalize。</p>
    <a class="btn btn-primary" href="javascript:;" (click)="loginViaGoogle()"><i class="fa fa-google" aria-hidden="true"></i></a>
    <a class="btn btn-primary" href="javascript:;" (click)="loginViaTwitter()"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    <p class="text-muted"><small>登陆成功后，请返回这里并刷新。</small></p>
  </div>
</template>